/* NYu4hyHrK ily traian LvaBKPRxg */ #include <bits/stdc++.h>/* NYu4hyHrK ily traian LvaBKPRxg */ /* NYu4hyHrK ily traian LvaBKPRxg */ /* NYu4hyHrK ily traian LvaBKPRxg */ /* NYu4hyHrK ily traian LvaBKPRxg */ using namespace std;/* NYu4hyHrK ily traian LvaBKPRxg */ /* NYu4hyHrK ily traian LvaBKPRxg */ ifstream cin("mere.in");/* NYu4hyHrK ily traian LvaBKPRxg */ ofstream cout("mere.out");/* NYu4hyHrK ily traian LvaBKPRxg */ /* NYu4hyHrK ily traian LvaBKPRxg */ int n , x , y , m[1001] , p , d[1001] , v[1001] , sum , maxi , imax;/* NYu4hyHrK ily traian LvaBKPRxg */ vector <int> G[1001];/* NYu4hyHrK ily traian LvaBKPRxg */ /* NYu4hyHrK ily traian LvaBKPRxg */ void bfs(int s)/* NYu4hyHrK ily traian LvaBKPRxg */ {/* NYu4hyHrK ily traian LvaBKPRxg */     queue <int> Q;/* NYu4hyHrK ily traian LvaBKPRxg */     v[s] = 1;/* NYu4hyHrK ily traian LvaBKPRxg */     d[s] = 1;/* NYu4hyHrK ily traian LvaBKPRxg */     sum += m[s];/* NYu4hyHrK ily traian LvaBKPRxg */     Q.push(s);/* NYu4hyHrK ily traian LvaBKPRxg */     while(!Q.empty())/* NYu4hyHrK ily traian LvaBKPRxg */     {/* NYu4hyHrK ily traian LvaBKPRxg */         int x = Q.front();/* NYu4hyHrK ily traian LvaBKPRxg */         maxi = 0 , imax = 0;/* NYu4hyHrK ily traian LvaBKPRxg */         for(int i : G[x])/* NYu4hyHrK ily traian LvaBKPRxg */             if(!v[i] && m[i] > maxi)/* NYu4hyHrK ily traian LvaBKPRxg */             {/* NYu4hyHrK ily traian LvaBKPRxg */                 maxi = m[i];/* NYu4hyHrK ily traian LvaBKPRxg */                 imax = i;/* NYu4hyHrK ily traian LvaBKPRxg */             }/* NYu4hyHrK ily traian LvaBKPRxg */         if(maxi != 0)/* NYu4hyHrK ily traian LvaBKPRxg */         {/* NYu4hyHrK ily traian LvaBKPRxg */             Q.push(imax);/* NYu4hyHrK ily traian LvaBKPRxg */             sum += maxi;/* NYu4hyHrK ily traian LvaBKPRxg */             v[imax] = 1;/* NYu4hyHrK ily traian LvaBKPRxg */         }/* NYu4hyHrK ily traian LvaBKPRxg */         Q.pop();/* NYu4hyHrK ily traian LvaBKPRxg */     }/* NYu4hyHrK ily traian LvaBKPRxg */ }/* NYu4hyHrK ily traian LvaBKPRxg */ /* NYu4hyHrK ily traian LvaBKPRxg */ /* NYu4hyHrK ily traian LvaBKPRxg */ int main()/* NYu4hyHrK ily traian LvaBKPRxg */ {/* NYu4hyHrK ily traian LvaBKPRxg */     cin >> n;/* NYu4hyHrK ily traian LvaBKPRxg */     for(int i = 1 ; i <= n ; i++)/* NYu4hyHrK ily traian LvaBKPRxg */         cin >> m[i];/* NYu4hyHrK ily traian LvaBKPRxg */     for(int i = 1 ; i < n ; i++)/* NYu4hyHrK ily traian LvaBKPRxg */     {/* NYu4hyHrK ily traian LvaBKPRxg */         cin >> x >> y;/* NYu4hyHrK ily traian LvaBKPRxg */         G[x].push_back(y);/* NYu4hyHrK ily traian LvaBKPRxg */         G[y].push_back(x);/* NYu4hyHrK ily traian LvaBKPRxg */     }/* NYu4hyHrK ily traian LvaBKPRxg */     for(int i = 1 ; i <= n ; i++)/* NYu4hyHrK ily traian LvaBKPRxg */         sort(G[i].begin() , G[i].end());/* NYu4hyHrK ily traian LvaBKPRxg */     bfs(1);/* NYu4hyHrK ily traian LvaBKPRxg */     cout << sum;/* NYu4hyHrK ily traian LvaBKPRxg */ }