/* R6SbHY9QM ily traian 7kZJCVPjd */ #include <bits/stdc++.h>/* R6SbHY9QM ily traian 7kZJCVPjd */ /* R6SbHY9QM ily traian 7kZJCVPjd */ /* R6SbHY9QM ily traian 7kZJCVPjd */ #define MOD 1000003/* R6SbHY9QM ily traian 7kZJCVPjd */ /* R6SbHY9QM ily traian 7kZJCVPjd */ using namespace std;/* R6SbHY9QM ily traian 7kZJCVPjd */ /* R6SbHY9QM ily traian 7kZJCVPjd */ ifstream fin("triunghiuri2.in");/* R6SbHY9QM ily traian 7kZJCVPjd */ ofstream fout("triunghiuri2.out");/* R6SbHY9QM ily traian 7kZJCVPjd */ /* R6SbHY9QM ily traian 7kZJCVPjd */ int x[1005],n,v,i,a,b,k;/* R6SbHY9QM ily traian 7kZJCVPjd */ long long t, aux1, aux2, aux,aux3;/* R6SbHY9QM ily traian 7kZJCVPjd */ vector <int> Y[1005];/* R6SbHY9QM ily traian 7kZJCVPjd */ vector <int> :: iterator it;/* R6SbHY9QM ily traian 7kZJCVPjd */ /* R6SbHY9QM ily traian 7kZJCVPjd */ int main()/* R6SbHY9QM ily traian 7kZJCVPjd */ { /* R6SbHY9QM ily traian 7kZJCVPjd */     fin>>v>>n;/* R6SbHY9QM ily traian 7kZJCVPjd */     for(i=1;i<=n;++i)/* R6SbHY9QM ily traian 7kZJCVPjd */     { /* R6SbHY9QM ily traian 7kZJCVPjd */         fin>>a>>b;/* R6SbHY9QM ily traian 7kZJCVPjd */         x[a]++;/* R6SbHY9QM ily traian 7kZJCVPjd */         Y[b].push_back(a);/* R6SbHY9QM ily traian 7kZJCVPjd */     }/* R6SbHY9QM ily traian 7kZJCVPjd */     if(v==1) /* R6SbHY9QM ily traian 7kZJCVPjd */     {/* R6SbHY9QM ily traian 7kZJCVPjd */         a=x[0];/* R6SbHY9QM ily traian 7kZJCVPjd */         for(i=0;i<=999;++i) if(x[i]>a)a=x[i];/* R6SbHY9QM ily traian 7kZJCVPjd */         fout<<a<<'\n';/* R6SbHY9QM ily traian 7kZJCVPjd */     }/* R6SbHY9QM ily traian 7kZJCVPjd */     else/* R6SbHY9QM ily traian 7kZJCVPjd */     { /* R6SbHY9QM ily traian 7kZJCVPjd */         for(i=0;i<=999;++i)/* R6SbHY9QM ily traian 7kZJCVPjd */         { /* R6SbHY9QM ily traian 7kZJCVPjd */             k=Y[i].size();/* R6SbHY9QM ily traian 7kZJCVPjd */             if(k>=2)/* R6SbHY9QM ily traian 7kZJCVPjd */             {/* R6SbHY9QM ily traian 7kZJCVPjd */                 aux1=n-k;/* R6SbHY9QM ily traian 7kZJCVPjd */                 aux2=k*(k-1)/2;/* R6SbHY9QM ily traian 7kZJCVPjd */                 aux=aux1*aux2;/* R6SbHY9QM ily traian 7kZJCVPjd */                 for(it=Y[i].begin();it!=Y[i].end();++it)/* R6SbHY9QM ily traian 7kZJCVPjd */                 {/* R6SbHY9QM ily traian 7kZJCVPjd */                       aux3=x[*it]-1;/* R6SbHY9QM ily traian 7kZJCVPjd */                       aux3=aux3*(k-1);/* R6SbHY9QM ily traian 7kZJCVPjd */                       aux=aux-aux3;/* R6SbHY9QM ily traian 7kZJCVPjd */                 }/* R6SbHY9QM ily traian 7kZJCVPjd */             t=(t+aux)%MOD;/* R6SbHY9QM ily traian 7kZJCVPjd */           }/* R6SbHY9QM ily traian 7kZJCVPjd */         }/* R6SbHY9QM ily traian 7kZJCVPjd */       fout<<t<<'\n';/* R6SbHY9QM ily traian 7kZJCVPjd */     }/* R6SbHY9QM ily traian 7kZJCVPjd */     fin.close();/* R6SbHY9QM ily traian 7kZJCVPjd */     fout.close();/* R6SbHY9QM ily traian 7kZJCVPjd */     return 0;/* R6SbHY9QM ily traian 7kZJCVPjd */ }