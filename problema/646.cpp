/* QqN848Sj3 ily traian qNRSLmpnt */ #include <bits/stdc++.h>/* QqN848Sj3 ily traian qNRSLmpnt */ using namespace std;/* QqN848Sj3 ily traian qNRSLmpnt */ /* QqN848Sj3 ily traian qNRSLmpnt */ ifstream cin("subarbore1.in");/* QqN848Sj3 ily traian qNRSLmpnt */ ofstream cout("subarbore1.out");/* QqN848Sj3 ily traian qNRSLmpnt */ /* QqN848Sj3 ily traian qNRSLmpnt */ int n , k , t[101];/* QqN848Sj3 ily traian qNRSLmpnt */ /* QqN848Sj3 ily traian qNRSLmpnt */ int main()/* QqN848Sj3 ily traian qNRSLmpnt */ {/* QqN848Sj3 ily traian qNRSLmpnt */     cin >> n >> k;/* QqN848Sj3 ily traian qNRSLmpnt */     for(int i = 1 ; i <= n ; i++)/* QqN848Sj3 ily traian qNRSLmpnt */         cin >> t[i];/* QqN848Sj3 ily traian qNRSLmpnt */ /* QqN848Sj3 ily traian qNRSLmpnt */     for(int i = 1 ; i <= n ; i++)/* QqN848Sj3 ily traian qNRSLmpnt */     {/* QqN848Sj3 ily traian qNRSLmpnt */         int ok = 0;/* QqN848Sj3 ily traian qNRSLmpnt */         for(int j = 1 ; j <= n ; j++)/* QqN848Sj3 ily traian qNRSLmpnt */             if(t[j] == i) ok++;/* QqN848Sj3 ily traian qNRSLmpnt */         if(ok == 0)/* QqN848Sj3 ily traian qNRSLmpnt */         {/* QqN848Sj3 ily traian qNRSLmpnt */             int p = t[i];/* QqN848Sj3 ily traian qNRSLmpnt */             while(p)/* QqN848Sj3 ily traian qNRSLmpnt */             {/* QqN848Sj3 ily traian qNRSLmpnt */                 if(p == k)ok = 1;/* QqN848Sj3 ily traian qNRSLmpnt */                 p = t[p];/* QqN848Sj3 ily traian qNRSLmpnt */             }/* QqN848Sj3 ily traian qNRSLmpnt */             if(ok) cout << i << " ";/* QqN848Sj3 ily traian qNRSLmpnt */         }/* QqN848Sj3 ily traian qNRSLmpnt */     }/* QqN848Sj3 ily traian qNRSLmpnt */     return 0;/* QqN848Sj3 ily traian qNRSLmpnt */ /* QqN848Sj3 ily traian qNRSLmpnt */ }